<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>AVAudioEngine详解 &middot; PPSW.ASIA</title>
  <meta name="title" content="AVAudioEngine详解 &middot; PPSW.ASIA" />
  
  <meta name="description" content="AVAudioEngine 是 AVFoundation 框架中的核心类，用于构建音频处理图，即一系列音频单元的连接，可以实现复杂的音频处理任务。" />
  <meta name="keywords" content="AVAudio, " />
  
  
  <link rel="canonical" href="http://localhost:1313/posts/ios/audioengine/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.85f006de1806b55b2d082d1122deedd8cec6fdc1f7c8a51be975a4496165d6c798f4a3de52545a6a87cc4bc09fc2d6f5201d44ea57acc1ac2b1c42a688c62bee.css"
    integrity="sha512-hfAG3hgGtVstCC0RIt7t2M7G/cH3yKUb6XWkSWFl1seY9KPeUlRaaofMS8Cfwtb1IB1E6leswawrHEKmiMYr7g==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.f5c7687e2a3365a5a366307858918deafa574ab869c626f69dcdd5363e26a725991d0efa1aaaff7ba4b7e2472876189d153d2f9b46a39206caf364407e2aaa77.js"
    integrity="sha512-9cdofiozZaWjZjB4WJGN6vpXSrhpxib2nc3VNj4mpyWZHQ76Gqr/e6S34kcodhidFT0vm0ajkgbK82RAfiqqdw==" data-copy="" data-copied=""></script>
  
  
  <script src="/js/zoom.min.js"></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/posts/ios/audioengine/">
  <meta property="og:site_name" content="PPSW.ASIA">
  <meta property="og:title" content="AVAudioEngine详解">
  <meta property="og:description" content="AVAudioEngine,iOS Euqalizer">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-17T21:00:01+08:00">
    <meta property="article:modified_time" content="2024-08-17T21:00:01+08:00">
    <meta property="article:tag" content="AVAudio">
    <meta property="og:image" content="http://localhost:1313/posts/ios/audioengine/featured.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/ios/audioengine/featured.png">
  <meta name="twitter:title" content="AVAudioEngine详解">
  <meta name="twitter:description" content="AVAudioEngine,iOS Euqalizer">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "AVAudioEngine详解",
    "headline": "AVAudioEngine详解",
    "description": "AVAudioEngine,iOS Euqalizer",
    "abstract": "AVAudioEngine 是 AVFoundation 框架中的核心类，用于构建音频处理图，即一系列音频单元的连接，可以实现复杂的音频处理任务。",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/posts\/ios\/audioengine\/",
    "author" : {
      "@type": "Person",
      "name": "Pin"
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-08-17T21:00:01\u002b08:00",
    "datePublished": "2024-08-17T21:00:01\u002b08:00",
    
    "dateModified": "2024-08-17T21:00:01\u002b08:00",
    
    "keywords": ["AVAudio"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1278"
  }]
  </script>


  
  
  <meta name="author" content="Pin" />
  
  
  
  <link href="mailto:xiaopn166@gmail.com" rel="me" />
  
  
  <link href="https://ppsw.asia/about/" rel="me" />
  
  
  <link href="https://github.com/xiaopindev" rel="me" />
  
  
  <link href="https://tiktok.com/@username" rel="me" />
  
  
  <link href="https://youtube.com/username" rel="me" />
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.js" integrity=""></script>





















  
  


  
  
  <meta name="theme-color"/>
  
  
  
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyAFcfBphAIHxpsDsNzFeQySePj6VIIKQn0",
      authDomain: "AIzaSyAFcfBphAIHxpsDsNzFeQySePj6VIIKQn0",
      projectId: "ppsw-web",
      storageBucket: "ppsw-web.appspot.com",
      messagingSenderId: "216970810892",
      appId: "1:216970810892:web:6f8a07fa4558880e38c029",
      measurementId: "G-J9C596ELTY"
    };

    var app = firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var auth = firebase.auth();

  </script>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">PPSW.ASIA</span>

            <img src="/img/logo.png" width="108" height="108"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="PPSW.ASIA" />

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">PPSW.ASIA</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Home
    </p>
</a>



            
            
  <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Posts
    </p>
</a>



            
            
  <a href="/portfolio/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Portfolio
    </p>
</a>



            
            
  <a href="/lounge/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Lounge
    </p>
</a>



            
            
  <a href="/tags/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Tags
    </p>
</a>



            
            
  <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Categories
    </p>
</a>



            
            
  <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        About
    </p>
</a>



            
            
  <a href="https://github.com/xiaopindev"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <span >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


    </span>
    
    <p class="text-base font-medium" title="">
        
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Home
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Posts
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/portfolio/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Portfolio
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/lounge/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Lounge
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/tags/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Tags
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Categories
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            About
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="https://github.com/xiaopindev"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <div >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


        </div>
        
        <p class="text-bg font-bg" title="">
            
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  


<div id="hero" class="h-[150px] md:h-[200px]"></div>



    
    <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/posts/ios/audioengine/featured_hua4aca84afa2437bf7513bb34d8c0c6af_104988_1200x0_resize_box_3.png);">
    


    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
    </div>
</div>

<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>
<script>
    window.addEventListener('scroll', function (e) {
        var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        var background_blur = document.getElementById('background-blur');
        background_blur.style.opacity = (scroll / 300)
    });
</script>

  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      AVAudioEngine详解
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  





  



  













<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-08-17 21:00:01 &#43;0800 CST">17 August 2024</time><span class="px-2 text-primary-500">&middot;</span><span>1278 words</span><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">6 mins</span>
  

  
  
</div>







    </div>

    
    
    
    
    

    

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
    

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          

<h2 class="relative group">iOS 音频引擎 AVAudioEngine 
    <div id="ios-%E9%9F%B3%E9%A2%91%E5%BC%95%E6%93%8E-avaudioengine" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ios-%E9%9F%B3%E9%A2%91%E5%BC%95%E6%93%8E-avaudioengine" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p><code>AVAudioEngine</code> 是 AVFoundation 框架中的核心类，用于构建音频处理图，即一系列音频单元的连接，可以实现复杂的音频处理任务。在 <code>AVAudioEngine</code> 中，你可以使用各种内置的音频单元 (<code>AVAudioUnit</code>) 来添加各种音频效果。以下是 <code>AVAudioEngine</code> 中可用的一些主要音频效果单元及其详细说明：</p>


<h3 class="relative group">1. AVAudioUnitTimePitch 
    <div id="1-avaudiounittimepitch" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#1-avaudiounittimepitch" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><code>AVAudioUnitTimePitch</code> 是 AVFoundation 框架中的一个音频单元，用于在 <code>AVAudioEngine</code> 的音频处理图中实时改变音频的时间和音调。这个单元允许你独立地调整音频的速度和音高，这对于音乐制作、音频编辑和实时音频效果非常有用。</p>


<h5 class="relative group">主要功能 
    <div id="%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ol>
<li><strong>时间拉伸</strong>: <code>AVAudioUnitTimePitch</code> 可以改变音频的播放速度，即时间拉伸，而不改变音高。这在需要调整音频长度以匹配特定时间线的情况下很有用。</li>
<li><strong>音调变化</strong>: 同时，这个单元也可以改变音频的音调（音高），而不改变播放速度。这在需要调整音频的音高以匹配其他音轨或音阶时非常有用。</li>
<li><strong>独立控制</strong>: 最重要的是，<code>AVAudioUnitTimePitch</code> 允许你独立控制时间拉伸和音调变化，这意味着你可以只改变音高而不改变速度，或者反之亦然。</li>
</ol>


<h5 class="relative group">属性 
    <div id="%E5%B1%9E%E6%80%A7" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B1%9E%E6%80%A7" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<p><code>AVAudioUnitTimePitch</code> 提供了几个关键属性来控制其行为：</p>
<ul>
<li><strong>pitch</strong>: 一个浮点数，表示音高的变化。1.0 表示原始音高，小于1.0表示降低音高，大于1.0表示提高音高。</li>
<li><strong>timePitchAlgorithm</strong>: 一个枚举值，表示所使用的时间拉伸和音调变化算法。可以是 <code>.varispeed</code>（仅改变播放速度）、<code>.advanced</code>（高级算法，提供独立的时间和音高控制）等。</li>
<li><strong>pitchCorrection</strong>: 一个整数值，表示音高的半音变化。0 表示无变化，正数表示升高音高，负数表示降低音高。</li>
<li><strong>rate</strong>: 一个浮点数，表示播放速度的变化。1.0 表示正常速度，小于1.0表示慢速播放，大于1.0表示快速播放。</li>
</ul>


<h5 class="relative group">使用示例 
    <div id="%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<p>下面是一个使用 <code>AVAudioUnitTimePitch</code> 的简单示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">AVFoundation</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">audioEngine</span> <span class="p">=</span> <span class="n">AVAudioEngine</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">timePitchUnit</span> <span class="p">=</span> <span class="n">AVAudioUnitTimePitch</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 设置音调变化和播放速度</span>
</span></span><span class="line"><span class="cl"><span class="n">timePitchUnit</span><span class="p">.</span><span class="n">pitch</span> <span class="p">=</span> <span class="mf">1.5</span> <span class="c1">// 提升一个半音</span>
</span></span><span class="line"><span class="cl"><span class="n">timePitchUnit</span><span class="p">.</span><span class="n">rate</span> <span class="p">=</span> <span class="mf">1.0</span> <span class="c1">// 正常速度播放</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 将时间音调单元添加到音频引擎</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">timePitchUnit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 连接输入和输出节点</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">inputNode</span> <span class="p">=</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">inputNode</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">outputNode</span> <span class="p">=</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">outputNode</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">inputNode</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">timePitchUnit</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">timePitchUnit</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">outputNode</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 准备并启动音频引擎</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Error starting audio engine: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h3 class="relative group">2. AVAudioUnitReverb（混响） 
    <div id="2-avaudiounitreverb%E6%B7%B7%E5%93%8D" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#2-avaudiounitreverb%E6%B7%B7%E5%93%8D" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>提供混响效果，可以模拟不同环境下的声音反射，用于营造空间感和深度感。</p>
<p>在音频处理领域，混响（Reverb）效果用于模拟声波在封闭空间中的反射，从而给声音添加深度和空间感。不同的混响算法和插件可以模拟各种环境，从小房间到大教堂，甚至是特殊的声学效果。在 <code>AVAudioUnitReverb</code> 类中，Apple 提供了几种预设的混响类型，但它们并不是所有可能的混响效果。下面列举的是 <code>AVAudioUnitReverb</code> 类中可用的几种预设混响类型：</p>
<ol>
<li><strong>SmallRoom</strong> - 模拟一个小房间的声学环境。</li>
<li><strong>MediumRoom</strong> - 模拟一个中等大小房间的声学环境。</li>
<li><strong>LargeRoom</strong> - 模拟一个大房间的声学环境。</li>
<li><strong>MediumHall</strong> - 模拟一个中等大小的音乐厅的声学环境。</li>
<li><strong>LargeHall</strong> - 模拟一个大音乐厅的声学环境。</li>
<li><strong>Plate</strong> - 模拟早期的金属板混响器（plate reverb）效果。</li>
<li><strong>MediumChamber</strong> - 模拟一个中等大小的录音室的声学环境。</li>
<li><strong>LargeChamber</strong> - 模拟一个大录音室的声学环境。</li>
<li><strong>Cathedral</strong> - 模拟大教堂的声学环境，通常有很长的尾音。</li>
<li><strong>Room</strong> - 一个通用的房间混响效果，可以进一步定制。</li>
<li><strong>Hall</strong> - 一个通用的大厅混响效果，可以进一步定制。</li>
<li><strong>Chamber</strong> - 一个通用的小室混响效果，可以进一步定制。</li>
<li><strong>LiveRoom</strong> - 模拟现场表演场地的声学环境。</li>
</ol>
<p>除了上述预设，<code>AVAudioUnitReverb</code> 还允许你自定义混响的参数，例如：</p>
<ul>
<li><strong>Wet/Dry Mix</strong> - 控制原始干声和混响湿声的混合比例。</li>
<li><strong>Decay Time</strong> - 控制混响尾音消失的时间长度。</li>
<li><strong>Diffusion</strong> - 控制声波的散射程度，影响混响的密度。</li>
<li><strong>Density</strong> - 控制早期反射的数量和分布。</li>
<li><strong>High Frequency Damping</strong> - 控制高频混响的衰减程度。</li>
<li><strong>Lowpass Filter</strong> - 控制混响信号的高频上限。</li>
</ul>
<p>除了 <code>AVAudioUnitReverb</code> 提供的预设，还有许多第三方插件和软件提供了更为专业和多样化的混响效果。这些插件通常在专业音频工作站（DAWs）中使用，如 Logic Pro、Pro Tools、Ableton Live 等，提供了更高级的控制和仿真效果，例如：</p>
<ul>
<li><strong>Convolution Reverb</strong> - 基于真实空间的声学响应（Impulse Response）来模拟混响。</li>
<li><strong>Modulated Reverb</strong> - 添加调制效果的混响，如颤音或镶边。</li>
<li><strong>Algorithmic Reverb</strong> - 使用数学算法而非真实空间的声学响应来模拟混响。</li>
<li><strong>Spring Reverb</strong> - 模拟早期弹簧混响器的效果。</li>
<li><strong>Ambience</strong> - 专注于模拟环境声音，如风声、雨声等。</li>
</ul>
<p>每种混响类型都有其独特的声学特性，选择哪种类型取决于你希望达到的特定声学效果。</p>
<p>参数：wetDryMix 是混响效果的湿干比参数。它表示原始信号（干信号）和混响信号（湿信号）的混合比例。值范围是 0 到 100，其中 0 表示完全干信号（无混响），100 表示完全湿信号（只有混响）。</p>


<h3 class="relative group">3. AVAudioUnitDistortion(失真效果) 
    <div id="3-avaudiounitdistortion%E5%A4%B1%E7%9C%9F%E6%95%88%E6%9E%9C" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3-avaudiounitdistortion%E5%A4%B1%E7%9C%9F%E6%95%88%E6%9E%9C" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>用于添加失真效果，可以产生摇滚音乐中常见的吉他放大器失真效果。</p>


<h3 class="relative group">4. AVAudioUnitEQ(均衡器) 
    <div id="4-avaudiouniteq%E5%9D%87%E8%A1%A1%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#4-avaudiouniteq%E5%9D%87%E8%A1%A1%E5%99%A8" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>均衡器单元，允许你调整音频的频率响应，通过增加或减少特定频率的增益，可以调整音色和清晰度。</p>
<p>AVAudioUnitEQ 是一个强大的多频段均衡器类，提供了丰富的属性和方法来调整音频信号的频率响应。以下是 AVAudioUnitEQ 及其关键属性的详细说明：</p>
<p>AVAudioUnitEQ 是 AVAudioUnitEffect 的子类，用于实现多频段均衡器。它包含多个 AVAudioUnitEQFilterParameters 对象，每个对象代表一个频段。</p>


<h4 class="relative group">关键属性 
    <div id="%E5%85%B3%E9%94%AE%E5%B1%9E%E6%80%A7" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%B3%E9%94%AE%E5%B1%9E%E6%80%A7" aria-label="Anchor">#</a>
    </span>        
    
</h4>


<h5 class="relative group">bands 
    <div id="bands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#bands" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: [AVAudioUnitEQFilterParameters]</p>
</li>
<li>
<p>说明: 这是一个数组，包含均衡器的所有频段。每个频段由 AVAudioUnitEQFilterParameters 对象表示。</p>
</li>
<li>
<p>示例:</p>
</li>
</ul>
<p>let eq = AVAudioUnitEQ(numberOfBands: 10)</p>
<p>let bands = eq.bands</p>


<h5 class="relative group">globalGain 
    <div id="globalgain" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#globalgain" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: Float</p>
</li>
<li>
<p>说明: 设置均衡器的全局增益，以分贝 (dB) 为单位。可以用来整体提升或降低音量。</p>
</li>
<li>
<p>示例: eq.globalGain = 1.0 // 增加全局增益1dB</p>
</li>
</ul>


<h4 class="relative group">AVAudioUnitEQFilterParameters 
    <div id="avaudiouniteqfilterparameters" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#avaudiouniteqfilterparameters" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>AVAudioUnitEQFilterParameters 是 AVAudioUnitEQ 的一个子类，表示均衡器的单个频段。它包含以下关键属性：</p>


<h5 class="relative group">filterType 
    <div id="filtertype" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#filtertype" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: AVAudioUnitEQFilterType</p>
</li>
<li>
<p>说明: 设置滤波器的类型。可选值包括 .parametric, .lowPass, .highPass, .resonantLowPass, .resonantHighPass, .bandPass, .bandStop, .lowShelf, .highShelf, .resonantLowShelf, .resonantHighShelf。</p>
</li>
<li>
<p>示例: band.filterType = .parametric</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">enum</span> <span class="nc">AVAudioUnitEQFilterType</span> <span class="p">:</span><span class="nb">Int</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">Parametric</span> <span class="err">参量均衡器</span> <span class="err">可以通过设置一些参量，来调节咱们均衡器的频点</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">LowPass</span> <span class="err">低通滤波器</span> <span class="err">衰弱高频</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">HighPass</span> <span class="err">高通滤波器</span> <span class="err">衰弱低频</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">ResonantLowPass</span>  <span class="err">可以引发共鸣的</span> <span class="err">低通滤波器</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">ResonantHighPass</span> <span class="err">可以引发共鸣的</span>  <span class="err">高通滤波器</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">BandPass</span> <span class="err">带通滤波器</span>  <span class="err">提升某一频率附近的信号</span> <span class="err">忽略过高</span> <span class="err">或</span> <span class="err">过低的</span> <span class="err">部分</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">BandStop</span> <span class="err">与上面的相反</span>  <span class="err">忽略某一频率附近的信号</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">LowShelf</span> <span class="err">低架</span> <span class="err">降低整体</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">HighShelf</span> <span class="err">高架</span> <span class="err">提升整体</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">ResonantLowShelf</span>  <span class="err">可以引发共鸣的</span> <span class="err">低架</span>
</span></span><span class="line"><span class="cl">  <span class="k">case</span> <span class="n">ResonantHighShelf可以引发共鸣的</span> <span class="err">高架</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h5 class="relative group">frequency 
    <div id="frequency" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#frequency" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: Float</p>
</li>
<li>
<p>说明: 设置滤波器的中心频率，以赫兹 (Hz) 为单位。</p>
</li>
<li>
<p>示例: band.frequency = 1000.0 // 设置中心频率为1000Hz</p>
</li>
</ul>


<h5 class="relative group">bandwidth 
    <div id="bandwidth" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#bandwidth" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: Float</p>
</li>
<li>
<p>说明: 设置滤波器的带宽，以八度 (octaves) 为单位。仅适用于参数均衡器类型。</p>
</li>
<li>
<p>示例: band.bandwidth = 1.0 // 设置带宽为1个八度</p>
</li>
</ul>


<h5 class="relative group">gain 
    <div id="gain" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#gain" aria-label="Anchor">#</a>
    </span>        
    
</h5>
<ul>
<li>
<p>类型: Float</p>
</li>
<li>
<p>说明: 设置滤波器的增益，以分贝 (dB) 为单位。正值表示提升，负值表示衰减。</p>
</li>
<li>
<p>示例: band.gain = 5.0 // 增加增益5dB</p>
</li>
</ul>


<h4 class="relative group">bypass 
    <div id="bypass" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#bypass" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<ul>
<li>
<p>类型: Bool</p>
</li>
<li>
<p>说明: 设置是否绕过此频段。true 表示绕过，false 表示启用。</p>
</li>
<li>
<p>示例:  band.bypass = false // 启用此频段</p>
</li>
</ul>


<h4 class="relative group">示例代码 
    <div id="%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">AVFoundation</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 创建音频引擎</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">audioEngine</span> <span class="p">=</span> <span class="n">AVAudioEngine</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 创建均衡器，设置为10个频段</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">eq</span> <span class="p">=</span> <span class="n">AVAudioUnitEQ</span><span class="p">(</span><span class="n">numberOfBands</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 配置每个频段</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">.&lt;</span><span class="n">eq</span><span class="p">.</span><span class="n">bands</span><span class="p">.</span><span class="bp">count</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nv">band</span> <span class="p">=</span> <span class="n">eq</span><span class="p">.</span><span class="n">bands</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">band</span><span class="p">.</span><span class="n">filterType</span> <span class="p">=</span> <span class="p">.</span><span class="n">parametric</span>
</span></span><span class="line"><span class="cl">    <span class="n">band</span><span class="p">.</span><span class="n">frequency</span> <span class="p">=</span> <span class="nb">Float</span><span class="p">(</span><span class="mi">32</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="nb">Double</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span> <span class="c1">// 设置频率</span>
</span></span><span class="line"><span class="cl">    <span class="n">band</span><span class="p">.</span><span class="n">bandwidth</span> <span class="p">=</span> <span class="mf">0.5</span> <span class="c1">// 设置带宽</span>
</span></span><span class="line"><span class="cl">    <span class="n">band</span><span class="p">.</span><span class="n">gain</span> <span class="p">=</span> <span class="mf">0.0</span> <span class="c1">// 设置增益</span>
</span></span><span class="line"><span class="cl">    <span class="n">band</span><span class="p">.</span><span class="n">bypass</span> <span class="p">=</span> <span class="kc">false</span> <span class="c1">// 启用频段</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 设置全局增益</span>
</span></span><span class="line"><span class="cl"><span class="n">eq</span><span class="p">.</span><span class="n">globalGain</span> <span class="p">=</span> <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 将均衡器添加到音频引擎</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">eq</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 连接均衡器到主混音器节点</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">mainMixerNode</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 启动音频引擎</span>
</span></span><span class="line"><span class="cl"><span class="k">do</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="bp">print</span><span class="p">(</span><span class="s">&#34;音频引擎启动失败: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 调整某个频段的增益</span>
</span></span><span class="line"><span class="cl"><span class="n">eq</span><span class="p">.</span><span class="n">bands</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">gain</span> <span class="p">=</span> <span class="mf">5.0</span> <span class="c1">// 增加第一个频段的增益</span>
</span></span></code></pre></div>

<h3 class="relative group">5. AVAudioUnitDelay 
    <div id="5-avaudiounitdelay" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#5-avaudiounitdelay" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>延迟效果器，可以创建回声效果，常用于电子音乐制作和空间感增强。</p>


<h3 class="relative group">6. AVAudioUnitCompressor(压缩器) 
    <div id="6-avaudiounitcompressor%E5%8E%8B%E7%BC%A9%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#6-avaudiounitcompressor%E5%8E%8B%E7%BC%A9%E5%99%A8" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>压缩器，用于控制音频的动态范围，可以防止峰值过载，同时使较弱的声音更加清晰。</p>


<h3 class="relative group">7. AVAudioUnitFlanger 
    <div id="7-avaudiounitflanger" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#7-avaudiounitflanger" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>镶边器，可以产生一种类似于旋转扬声器的效果，常用于创造特殊的声音质感。</p>


<h3 class="relative group">8. AVAudioUnitPhaser 
    <div id="8-avaudiounitphaser" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#8-avaudiounitphaser" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>相位器，通过对音频信号的不同频率进行相位移，可以产生扫频效果。</p>


<h3 class="relative group">9. AVAudioUnitDistortionFactory(失真效果) 
    <div id="9-avaudiounitdistortionfactory%E5%A4%B1%E7%9C%9F%E6%95%88%E6%9E%9C" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#9-avaudiounitdistortionfactory%E5%A4%B1%E7%9C%9F%E6%95%88%E6%9E%9C" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><code>AVAudioUnitDistortionFactory</code> 是 AVAudioEngine 中的一个类，它提供了一系列预设的失真效果单元。这些失真效果可以应用于音频信号，以产生不同的音色变化，尤其是在音乐制作中非常有用，例如在电吉他音轨上添加失真效果。</p>
<p>以下是在 <code>AVAudioUnitDistortionFactory</code> 中可获得的所有预设失真单元：</p>
<ol>
<li><strong>Overdrive</strong> - 这种失真类型通常模仿真空管放大器的自然过载特性，产生温暖而柔和的失真效果。</li>
<li><strong>Fuzz</strong> - Fuzz 失真通常会产生更加粗糙和饱和的音色，它会将输入信号的波峰削平，导致大量谐波的产生。</li>
<li><strong>Distortion</strong> - Distortion 类型的失真通常比 Overdrive 更加激进，它可以产生强烈的非线性失真效果，适合硬摇滚和重金属风格的音乐。</li>
<li><strong>Saturator</strong> - Saturator 效果模拟了磁带饱和或数字剪切的特性，可以产生更细腻的失真，通常用于轻微增强音色。</li>
<li><strong>Tube</strong> - 这个预设模拟了真空管设备的特性，产生温暖且富有音乐性的失真。</li>
<li><strong>Soft Clip</strong> - Soft clip 效果会平滑地限制信号的峰值，避免突然的音量尖峰，同时保留信号的基本音色。</li>
<li><strong>Hard Clip</strong> - Hard clip 则会更剧烈地剪切信号峰值，产生更明显的失真和削波效果。</li>
<li><strong>Foldback</strong> - Foldback 失真会在信号超过一定阈值时，将信号反向折叠，产生独特的音色变化。</li>
<li><strong>Wave Shaper</strong> - Wave shaper 允许对信号波形进行任意形状的变换，可以产生从轻微到极端的各种失真效果。</li>
<li><strong>Bit Crusher</strong> - Bit crusher 效果通过降低音频的比特深度来产生数字噪声和失真，通常用于创造电子音乐中的粗糙质感。</li>
<li><strong>Sample and Hold</strong> - Sample and Hold 效果会在随机或定期的时间间隔内“采样”信号的瞬时值，并保持该值直到下一次采样，产生断断续续的音色变化。</li>
</ol>


<h3 class="relative group">10. AVAudioUnitChorus 
    <div id="10-avaudiounitchorus" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#10-avaudiounitchorus" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>合唱效果器，通过轻微延迟和调制信号的叠加，可以模仿多个演奏者的合奏效果。</p>


<h3 class="relative group">11. AVAudioUnitAudioUnit 
    <div id="11-avaudiounitaudiounit" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#11-avaudiounitaudiounit" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>这个单元允许你加载外部的 Audio Unit 插件，极大地扩展了 <code>AVAudioEngine</code> 的功能，可以使用第三方音频效果和乐器。</p>


<h3 class="relative group">12. AVAudioUnitSampler 
    <div id="12-avaudiounitsampler" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#12-avaudiounitsampler" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>采样器单元，用于加载和播放采样音频，可以用来构建自己的乐器。</p>


<h3 class="relative group">13. AVAudioUnitInstrument 
    <div id="13-avaudiounitinstrument" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#13-avaudiounitinstrument" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>乐器单元，可以加载和播放 MIDI 信息，用于合成音乐。</p>


<h3 class="relative group">14. AVAudioUnitVarispeed(播放速度) 
    <div id="14-avaudiounitvarispeed%E6%92%AD%E6%94%BE%E9%80%9F%E5%BA%A6" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#14-avaudiounitvarispeed%E6%92%AD%E6%94%BE%E9%80%9F%E5%BA%A6" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>变速单元，可以改变音频的速度和播放时间，但不会改变音调。</p>


<h3 class="relative group">15. AVAudioUnitRecorder 
    <div id="15-avaudiounitrecorder" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#15-avaudiounitrecorder" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>录音单元，用于录制音频流到文件，可以实现实时录音功能。</p>


<h3 class="relative group">16. AVAudioUnitTimeStretch 
    <div id="16-avaudiounittimestretch" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#16-avaudiounittimestretch" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>时间拉伸单元，可以改变音频的播放时间而不改变音调，适用于节奏调整。</p>


<h3 class="relative group">17. AVAudioUnitMIDI 
    <div id="17-avaudiounitmidi" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#17-avaudiounitmidi" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>MIDI 单元，用于处理 MIDI 信息，可以将 MIDI 控制信息转换为音频输出。</p>


<h3 class="relative group">18. AVAudioUnitSampler 
    <div id="18-avaudiounitsampler" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#18-avaudiounitsampler" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>虽然已经提过一次，但是值得注意的是，<code>AVAudioUnitSampler</code> 可以作为复杂的乐器引擎使用，它支持多种触发模式和多种音色切换。</p>


<h3 class="relative group">19. AVAudioUnitGenerator 
    <div id="19-avaudiounitgenerator" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#19-avaudiounitgenerator" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>音频生成单元，可以生成特定的音频波形，如正弦波、方波等。</p>


<h3 class="relative group">20. AVAudioUnitMixer 
    <div id="20-avaudiounitmixer" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#20-avaudiounitmixer" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>混音器单元，用于混合多个音频流，可以调整各路音频的音量和平衡。</p>


<h3 class="relative group">21. AVAudioUnitEffect 
    <div id="21-avaudiouniteffect" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#21-avaudiouniteffect" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>一个通用效果单元，可以作为其他效果单元的基类，但通常不会直接实例化。</p>


<h3 class="relative group">22. AVAudioUnitEQFilter 
    <div id="22-avaudiouniteqfilter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#22-avaudiouniteqfilter" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>虽然 <code>AVAudioUnitEQ</code> 提供了均衡器功能，但 <code>AVAudioUnitEQFilter</code> 提供了更细粒度的滤波器控制，可以单独设置每个频段的参数。</p>


<h3 class="relative group">使用示例 
    <div id="%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-1" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>使用这些单元时，你需要将它们添加到 <code>AVAudioEngine</code> 中，并通过 <code>connect</code> 方法将它们连接起来形成一个处理链。例如，下面的代码展示了如何将均衡器和混响效果添加到音频引擎中：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">audioEngine</span> <span class="p">=</span> <span class="n">AVAudioEngine</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">eq</span> <span class="p">=</span> <span class="n">AVAudioUnitEQ</span><span class="p">(</span><span class="n">numberOfBands</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">reverb</span> <span class="p">=</span> <span class="n">AVAudioUnitReverb</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 添加单元</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">eq</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">reverb</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 连接单元</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">inputNode</span> <span class="p">=</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">inputNode</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">outputNode</span> <span class="p">=</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">outputNode</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">inputNode</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">eq</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">reverb</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">audioEngine</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">reverb</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="n">outputNode</span><span class="p">,</span> <span class="n">format</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</span></span></code></pre></div>

<h3 class="relative group">注意事项 
    <div id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<blockquote>
<p>在音频处理链中，效果的顺序会影响最终的音频输出。以下是一些常见的音频效果及其通常的排列顺序：</p>
<p><strong>动态处理（Dynamic Processing</strong>）: 包括压缩器（Compressor）、限制器（Limiter）等。这些效果通常放在最前面，以控制音频信号的动态范围。</p>
<p><strong>均衡器（Equalizer</strong>）: 用于调整音频信号的频率响应。通常在动态处理之后，以便在处理动态范围后进行频率调整。</p>
<p><strong>失真（Distortion）</strong>: 包括过载（Overdrive）、失真（Distortion）等。这些效果通常放在均衡器之后，以便在频率调整后添加失真效果。</p>
<p><strong>调制（Modulation）</strong>: 包括合唱（Chorus）、镶边（Flanger）、相位（Phaser）等。这些效果通常放在失真之后，以便在失真处理后添加调制效果。</p>
<p><strong>延迟（Delay）</strong>: 用于添加回声效果。通常放在调制效果之后，以便在调制处理后添加延迟效果。</p>
<p><strong>混响（Reverb）</strong>: 用于模拟空间效果。通常放在延迟之后，以便在延迟处理后添加混响效果。</p>
</blockquote>


<h2 class="relative group">获取频谱信息 
    <div id="%E8%8E%B7%E5%8F%96%E9%A2%91%E8%B0%B1%E4%BF%A1%E6%81%AF" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%8E%B7%E5%8F%96%E9%A2%91%E8%B0%B1%E4%BF%A1%E6%81%AF" aria-label="Anchor">#</a>
    </span>        
    
</h2>


<h3 class="relative group">目标需求 
    <div id="%E7%9B%AE%E6%A0%87%E9%9C%80%E6%B1%82" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%9B%AE%E6%A0%87%E9%9C%80%E6%B1%82" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>如何获取音频数据的频谱信息,根据音乐的律动，实现频谱可视化柱状图振幅效果？</p>


<h3 class="relative group">思路方案 
    <div id="%E6%80%9D%E8%B7%AF%E6%96%B9%E6%A1%88" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%80%9D%E8%B7%AF%E6%96%B9%E6%A1%88" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>要实现音频频谱可视化柱状图振幅效果，你需要从音频数据中提取频谱信息。可以使用 AVAudioEngine 和 AVAudioPCMBuffer 来获取音频数据，并使用快速傅里叶变换（FFT）来计算频谱。</p>
<p>以下是一个简化的示例，展示如何获取音频数据的频谱信息并实现频谱可视化柱状图振幅效果：</p>


<h4 class="relative group">获取音频数据并计算频谱 
    <div id="%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%95%B0%E6%8D%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E9%A2%91%E8%B0%B1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%95%B0%E6%8D%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E9%A2%91%E8%B0%B1" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>使用 AVAudioEngine 和 AVAudioPCMBuffer 获取音频数据。</p>
<p>使用 vDSP 库中的 FFT 函数计算频谱。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">AVFoundation</span>
</span></span><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">Accelerate</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">SpectrumAnalyzer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">fftSetup</span><span class="p">:</span> <span class="n">FFTSetup</span><span class="p">?</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">log2n</span><span class="p">:</span> <span class="n">vDSP_Length</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">bufferSize</span><span class="p">:</span> <span class="nb">Int</span> <span class="c1">// 将访问级别更改为 internal</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">window</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">outputBuffer</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">frequencyData</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">downsampleFactor</span><span class="p">:</span> <span class="nb">Int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">init</span><span class="p">(</span><span class="n">bufferSize</span><span class="p">:</span> <span class="nb">Int</span><span class="p">,</span> <span class="n">downsampleFactor</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 默认降采样因子为10</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">bufferSize</span> <span class="p">=</span> <span class="n">bufferSize</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">downsampleFactor</span> <span class="p">=</span> <span class="n">downsampleFactor</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">log2n</span> <span class="p">=</span> <span class="n">vDSP_Length</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="nb">Float</span><span class="p">(</span><span class="n">bufferSize</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">fftSetup</span> <span class="p">=</span> <span class="n">vDSP_create_fftsetup</span><span class="p">(</span><span class="n">log2n</span><span class="p">,</span> <span class="nb">Int32</span><span class="p">(</span><span class="n">kFFTRadix2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">window</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">bufferSize</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">vDSP_hann_window</span><span class="p">(&amp;</span><span class="n">window</span><span class="p">,</span> <span class="n">vDSP_Length</span><span class="p">(</span><span class="n">bufferSize</span><span class="p">),</span> <span class="nb">Int32</span><span class="p">(</span><span class="n">vDSP_HANN_NORM</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">outputBuffer</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">bufferSize</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">frequencyData</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">bufferSize</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">deinit</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="kd">let</span> <span class="nv">fftSetup</span> <span class="p">=</span> <span class="n">fftSetup</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">vDSP_destroy_fftsetup</span><span class="p">(</span><span class="n">fftSetup</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">func</span> <span class="nf">analyze</span><span class="p">(</span><span class="n">buffer</span><span class="p">:</span> <span class="n">AVAudioPCMBuffer</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">guard</span> <span class="kd">let</span> <span class="nv">fftSetup</span> <span class="p">=</span> <span class="n">fftSetup</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[]</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nv">frameCount</span> <span class="p">=</span> <span class="n">buffer</span><span class="p">.</span><span class="n">frameLength</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nv">realp</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="nb">Int</span><span class="p">(</span><span class="n">frameCount</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nv">imagp</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="nb">Int</span><span class="p">(</span><span class="n">frameCount</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nv">magnitudes</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="nb">Int</span><span class="p">(</span><span class="n">frameCount</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">realp</span><span class="p">.</span><span class="n">withUnsafeMutableBufferPointer</span> <span class="p">{</span> <span class="n">realpPtr</span> <span class="k">in</span>
</span></span><span class="line"><span class="cl">            <span class="n">imagp</span><span class="p">.</span><span class="n">withUnsafeMutableBufferPointer</span> <span class="p">{</span> <span class="n">imagpPtr</span> <span class="k">in</span>
</span></span><span class="line"><span class="cl">                <span class="kd">var</span> <span class="nv">output</span> <span class="p">=</span> <span class="n">DSPSplitComplex</span><span class="p">(</span><span class="n">realp</span><span class="p">:</span> <span class="n">realpPtr</span><span class="p">.</span><span class="n">baseAddress</span><span class="p">!,</span> <span class="n">imagp</span><span class="p">:</span> <span class="n">imagpPtr</span><span class="p">.</span><span class="n">baseAddress</span><span class="p">!)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="n">buffer</span><span class="p">.</span><span class="n">floatChannelData</span><span class="p">?.</span><span class="n">pointee</span><span class="p">.</span><span class="n">withMemoryRebound</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">DSPComplex</span><span class="p">.</span><span class="kc">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">:</span> <span class="nb">Int</span><span class="p">(</span><span class="n">frameCount</span><span class="p">))</span> <span class="p">{</span> <span class="p">(</span><span class="n">inputData</span><span class="p">)</span> <span class="k">in</span>
</span></span><span class="line"><span class="cl">                    <span class="n">vDSP_ctoz</span><span class="p">(</span><span class="n">inputData</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">&amp;</span><span class="n">output</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">vDSP_Length</span><span class="p">(</span><span class="n">frameCount</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="n">vDSP_fft_zrip</span><span class="p">(</span><span class="n">fftSetup</span><span class="p">,</span> <span class="p">&amp;</span><span class="n">output</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">log2n</span><span class="p">,</span> <span class="n">FFTDirection</span><span class="p">(</span><span class="n">FFT_FORWARD</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="n">vDSP_zvmags</span><span class="p">(&amp;</span><span class="n">output</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">&amp;</span><span class="n">magnitudes</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">vDSP_Length</span><span class="p">(</span><span class="n">frameCount</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">downsample</span><span class="p">(</span><span class="n">magnitudes</span><span class="p">,</span> <span class="n">factor</span><span class="p">:</span> <span class="n">downsampleFactor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">downsample</span><span class="p">(</span><span class="kc">_</span> <span class="n">data</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">],</span> <span class="n">factor</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">guard</span> <span class="n">factor</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="n">data</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nv">downsampledCount</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="bp">count</span> <span class="o">/</span> <span class="n">factor</span>
</span></span><span class="line"><span class="cl">        <span class="kd">var</span> <span class="nv">downsampledData</span> <span class="p">=</span> <span class="p">[</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">downsampledCount</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">0.</span><span class="p">.&lt;</span><span class="n">downsampledCount</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">start</span> <span class="p">=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">factor</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">end</span> <span class="p">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">factor</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">sum</span> <span class="p">=</span> <span class="n">data</span><span class="p">[</span><span class="n">start</span><span class="p">..&lt;</span><span class="n">end</span><span class="p">].</span><span class="bp">reduce</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">downsampledData</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">sum</span> <span class="o">/</span> <span class="nb">Float</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">downsampledData</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h4 class="relative group">绑定AVAudioEngine 
    <div id="%E7%BB%91%E5%AE%9Aavaudioengine" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%BB%91%E5%AE%9Aavaudioengine" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>将频谱数据传递给 UI 层，更新柱状图的振幅。</p>
<p>以下是一个示例代码，展示如何实现这些步骤：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">AVFoundation</span>
</span></span><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">MediaPlayer</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">AudioEnginePlayer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nv">onSpectrumDataAvailable</span><span class="p">:</span> <span class="p">(([</span><span class="nb">Float</span><span class="p">])</span> <span class="p">-&gt;</span> <span class="nb">Void</span><span class="p">)?</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">   <span class="kd">private</span> <span class="kd">var</span> <span class="nv">playerNode</span><span class="p">:</span> <span class="n">AVAudioPlayerNode</span>
</span></span><span class="line"><span class="cl">   <span class="kd">private</span> <span class="kd">var</span> <span class="nv">spectrumAnalyzer</span><span class="p">:</span> <span class="n">SpectrumAnalyzer</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">   <span class="c1">/// 播放状态</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">isPlaying</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">=</span> <span class="kc">false</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">didSet</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="o">!</span><span class="n">isPlaying</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">// 如果没有播放，则所有频谱柱显示为 0 值</span>
</span></span><span class="line"><span class="cl">                <span class="n">onSpectrumDataAvailable</span><span class="p">?([</span><span class="nb">Float</span><span class="p">](</span><span class="n">repeating</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="mi">24</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="kd">init</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">        <span class="n">playerNode</span> <span class="p">=</span> <span class="n">AVAudioPlayerNode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">      <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">        <span class="n">spectrumAnalyzer</span> <span class="p">=</span> <span class="n">SpectrumAnalyzer</span><span class="p">(</span><span class="n">bufferSize</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">downsampleFactor</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">        <span class="n">setupAudioEngineTap</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">   <span class="c1">//...</span>
</span></span><span class="line"><span class="cl">   <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setupAudioEngineTap</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">audioEngine</span><span class="p">.</span><span class="n">mainMixerNode</span><span class="p">.</span><span class="n">installTap</span><span class="p">(</span><span class="n">onBus</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">bufferSize</span><span class="p">:</span> <span class="n">AVAudioFrameCount</span><span class="p">(</span><span class="n">spectrumAnalyzer</span><span class="p">.</span><span class="n">bufferSize</span><span class="p">),</span> <span class="n">format</span><span class="p">:</span> <span class="n">audioEngine</span><span class="p">.</span><span class="n">mainMixerNode</span><span class="p">.</span><span class="n">outputFormat</span><span class="p">(</span><span class="n">forBus</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span> <span class="p">[</span><span class="kr">weak</span> <span class="kc">self</span><span class="p">]</span> <span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span> <span class="k">in</span>
</span></span><span class="line"><span class="cl">            <span class="k">guard</span> <span class="kd">let</span> <span class="nv">self</span> <span class="p">=</span> <span class="kc">self</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">magnitudes</span> <span class="p">=</span> <span class="kc">self</span><span class="p">.</span><span class="n">spectrumAnalyzer</span><span class="p">.</span><span class="n">analyze</span><span class="p">(</span><span class="n">buffer</span><span class="p">:</span> <span class="n">buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">async</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="kc">self</span><span class="p">.</span><span class="n">isPlaying</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//print(&#34;\(magnitudes)\n\n\n&#34;)</span>
</span></span><span class="line"><span class="cl">                    <span class="kc">self</span><span class="p">.</span><span class="n">onSpectrumDataAvailable</span><span class="p">?(</span><span class="n">magnitudes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h4 class="relative group">创建频谱显示视图 
    <div id="%E5%88%9B%E5%BB%BA%E9%A2%91%E8%B0%B1%E6%98%BE%E7%A4%BA%E8%A7%86%E5%9B%BE" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%88%9B%E5%BB%BA%E9%A2%91%E8%B0%B1%E6%98%BE%E7%A4%BA%E8%A7%86%E5%9B%BE" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>创建一个 VisualizerView 类，用于绘制频谱柱状图。</p>
<p>在 updateUI 方法中调用 VisualizerView 的更新方法。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">UIKit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">VisualizerView</span><span class="p">:</span> <span class="n">UIView</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">magnitudes</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">]</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">override</span> <span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="p">=</span> <span class="p">.</span><span class="n">black</span> <span class="c1">// 设置背景颜色</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">coder</span><span class="p">:</span> <span class="n">coder</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="p">=</span> <span class="p">.</span><span class="n">black</span> <span class="c1">// 设置背景颜色</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="n">with</span> <span class="n">magnitudes</span><span class="p">:</span> <span class="p">[</span><span class="nb">Float</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kc">self</span><span class="p">.</span><span class="n">magnitudes</span> <span class="p">=</span> <span class="n">magnitudes</span>
</span></span><span class="line"><span class="cl">        <span class="n">setNeedsDisplay</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">(</span><span class="kc">_</span> <span class="n">rect</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">guard</span> <span class="o">!</span><span class="n">magnitudes</span><span class="p">.</span><span class="bp">isEmpty</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nv">context</span> <span class="p">=</span> <span class="n">UIGraphicsGetCurrentContext</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">context</span><span class="p">?.</span><span class="n">clear</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nv">barWidth</span> <span class="p">=</span> <span class="n">rect</span><span class="p">.</span><span class="n">width</span> <span class="o">/</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">magnitudes</span><span class="p">.</span><span class="bp">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">)</span> <span class="k">in</span> <span class="n">magnitudes</span><span class="p">.</span><span class="n">enumerated</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">barHeight</span> <span class="p">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">magnitude</span><span class="p">)</span> <span class="o">*</span> <span class="n">rect</span><span class="p">.</span><span class="n">height</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">barRect</span> <span class="p">=</span> <span class="n">CGRect</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">*</span> <span class="n">barWidth</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">rect</span><span class="p">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">barHeight</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="n">barWidth</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">barHeight</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">context</span><span class="p">?.</span><span class="n">setFillColor</span><span class="p">(</span><span class="n">UIColor</span><span class="p">.</span><span class="n">green</span><span class="p">.</span><span class="n">cgColor</span><span class="p">)</span> <span class="c1">// 设置填充颜色</span>
</span></span><span class="line"><span class="cl">            <span class="n">context</span><span class="p">?.</span><span class="n">fill</span><span class="p">(</span><span class="n">barRect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 添加调试日志</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//print(&#34;Drawing \(magnitudes.count) bars&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h4 class="relative group">将频谱数据添加到界面 
    <div id="%E5%B0%86%E9%A2%91%E8%B0%B1%E6%95%B0%E6%8D%AE%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%95%8C%E9%9D%A2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B0%86%E9%A2%91%E8%B0%B1%E6%95%B0%E6%8D%AE%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%95%8C%E9%9D%A2" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>在视图控制器中添加 VisualizerView 并将频谱数据传递给它</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">import</span> <span class="nc">UIKit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="n">UIViewController</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">var</span> <span class="nv">visualizerView</span><span class="p">:</span> <span class="n">VisualizerView</span><span class="p">!</span>
</span></span><span class="line"><span class="cl">    <span class="kr">lazy</span> <span class="kd">var</span> <span class="nv">audioEnginePlayer</span> <span class="p">=</span> <span class="n">AudioEnginePlayer</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kc">super</span><span class="p">.</span><span class="n">viewDidLoad</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">visualizerView</span> <span class="p">=</span> <span class="n">VisualizerView</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">view</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">view</span><span class="p">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">visualizerView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">view</span><span class="p">.</span><span class="n">sendSubviewToBack</span><span class="p">(</span><span class="n">visualizerView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">audioEnginePlayer</span><span class="p">.</span><span class="n">onSpectrumDataAvailable</span> <span class="p">=</span> <span class="p">{</span> <span class="p">[</span><span class="kr">weak</span> <span class="kc">self</span><span class="p">]</span> <span class="n">magnitudes</span> <span class="k">in</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//print(magnitudes)</span>
</span></span><span class="line"><span class="cl">            <span class="kc">self</span><span class="p">?.</span><span class="n">visualizerView</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">with</span><span class="p">:</span> <span class="n">magnitudes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
        </div>
        
        

          
            
            
<div class="flex author">
  
    
    
      
    
    
      
        
      
      <img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width="96" height="96"
      alt="Pin" src="/img/author_hubc73a13b8ac57cb63ae7a62dd4fb781a_91510_192x192_fill_q75_box_center.jpeg" />
    
  
  <div class="place-self-center">
    
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      Author
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      Pin
    </div>
    
    
    <div class="text-sm text-neutral-700 dark:text-neutral-400">A little bit about you</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="mailto:xiaopn166@gmail.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://ppsw.asia/about/"
          target="_blank"
          aria-label="Link"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/xiaopindev"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://tiktok.com/@username"
          target="_blank"
          aria-label="Tiktok"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://youtube.com/username"
          target="_blank"
          aria-label="Youtube"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>

          

          

          
          <div class="mb-10"></div>
          

        

        
        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:1313/posts/ios/audioengine/&amp;title=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Share on LinkedIn"
      aria-label="Share on LinkedIn"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://twitter.com/intent/tweet/?url=http://localhost:1313/posts/ios/audioengine/&amp;text=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Tweet on Twitter"
      aria-label="Tweet on Twitter"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://bsky.app/intent/compose?text=AVAudioEngine%e8%af%a6%e8%a7%a3&#43;http://localhost:1313/posts/ios/audioengine/"
      title="Post on Bluesky"
      aria-label="Post on Bluesky"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256,232.562c-21.183,-41.196 -78.868,-117.97 -132.503,-155.834c-51.378,-36.272 -70.978,-29.987 -83.828,-24.181c-14.872,6.72 -17.577,29.554 -17.577,42.988c0,13.433 7.365,110.138 12.169,126.281c15.873,53.336 72.376,71.358 124.413,65.574c2.66,-0.395 5.357,-0.759 8.089,-1.097c-2.68,0.429 -5.379,0.796 -8.089,1.097c-76.259,11.294 -143.984,39.085 -55.158,137.972c97.708,101.165 133.908,-21.692 152.484,-83.983c18.576,62.291 39.972,180.718 150.734,83.983c83.174,-83.983 22.851,-126.674 -53.408,-137.969c-2.71,-0.302 -5.409,-0.667 -8.089,-1.096c2.732,0.337 5.429,0.702 8.089,1.096c52.037,5.785 108.54,-12.239 124.413,-65.574c4.804,-16.142 12.169,-112.847 12.169,-126.281c-0,-13.434 -2.705,-36.267 -17.577,-42.988c-12.85,-5.806 -32.45,-12.09 -83.829,24.181c-53.634,37.864 -111.319,114.635 -132.502,155.831Z"/></svg>
  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://reddit.com/submit/?url=http://localhost:1313/posts/ios/audioengine/&amp;resubmit=true&amp;title=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Submit to Reddit"
      aria-label="Submit to Reddit"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://pinterest.com/pin/create/bookmarklet/?url=http://localhost:1313/posts/ios/audioengine/&amp;description=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Pin on Pinterest"
      aria-label="Pin on Pinterest"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:1313/posts/ios/audioengine/&amp;quote=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Share on Facebook"
      aria-label="Share on Facebook"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="mailto:?body=http://localhost:1313/posts/ios/audioengine/&amp;subject=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title="Send via email"
      aria-label="Send via email"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://api.whatsapp.com/send?text=http://localhost:1313/posts/ios/audioengine/&amp;resubmit=true&amp;title=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://t.me/share/url?url=http://localhost:1313/posts/ios/audioengine/&amp;resubmit=true&amp;title=AVAudioEngine%e8%af%a6%e8%a7%a3"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>

  </span>


    </a>
      
    
  </section>


          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_posts\/ios\/audioengine\/index.md"
        var oid_likes = "likes_posts\/ios\/audioengine\/index.md"
      </script>
      
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/posts/ios/cocoapods/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >万能解决方案之彻底解决cocoapods环境问题</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-07-21 09:09:07 &#43;0800 CST">21 July 2024</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/agreements/privacy/"
            title="">
            
            Privacy Policy
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/agreements/termsofuse/"
            title="">
            
            Terms of Use
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      Copyright © 2024 PPSW.ASIA
    </p>
    

    
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
